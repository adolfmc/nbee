(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-daily-daily"],{"04d2":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return a}));var a={uLoading:i("b8fe").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("v-uni-view",[i("v-uni-view",{staticClass:"flex_row_c_c modalView",class:e.qrShow?"show":"",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.hideQr()}}},[i("v-uni-view",{staticClass:"flex_column"},[i("v-uni-view",{staticClass:"backgroundColor-white padding1vh border_radius_10px"},[i("v-uni-image",{staticClass:"posterImage",attrs:{src:e.poster.finalPath||"",mode:"widthFix"}})],1),i("v-uni-view",{staticClass:"flex_row marginTop2vh"},[i("v-uni-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){t.preventDefault(),t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.saveImage()}}},[e._v("保存图片")]),i("v-uni-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){t.preventDefault(),t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.share()}}},[e._v("分享图片")])],1)],1)],1),i("v-uni-view",{staticClass:"hideCanvasView"},[i("v-uni-canvas",{staticClass:"hideCanvas",style:{width:(e.poster.width||10)+"px",height:(e.poster.height||10)+"px"},attrs:{"canvas-id":"default_PosterCanvasId"}})],1)],1),i("v-uni-view",{staticClass:"header",staticStyle:{display:"flex","justify-content":"space-between"}},[i("v-uni-view",[e._v("您已预约过的场地")])],1),i("v-uni-view",{staticClass:"venue_list"},[i("v-uni-view",{staticStyle:{display:"flex","justify-content":"center"}},[i("u-loading",{attrs:{show:e.show_,size:"68",mode:"flower"}})],1),e._l(e.venue_list,(function(t){return i("v-uni-view",{key:t.id,staticClass:"item"},[i("v-uni-view",{staticClass:"left"},[i("v-uni-image",{attrs:{src:t.img,mode:"aspectFill"}})],1),i("v-uni-view",{staticClass:"content",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.openinfo(t.id,t.productId,t.venueName,t.siteId)}}},[i("v-uni-view",[e._v(e._s(t.venueName))]),i("v-uni-view",{staticStyle:{display:"flex","flex-direction":"row","justify-content":"space-between","margin-right":"30rpx"}},[i("v-uni-view",[e._v("["+e._s(t.area)+"] "+e._s(t.distance))])],1),i("v-uni-view",{staticStyle:{display:"flex","flex-direction":"row","margin-right":"30rpx"}},[i("v-uni-view",[e._v("累计"),i("font",{staticStyle:{color:"#ff850d"}},[e._v(e._s(t.countt))]),e._v("场次,")],1),i("v-uni-view",[e._v("累计消费"),i("font",{staticStyle:{color:"#ff850d"}},[e._v(e._s(t.tamount))]),e._v("元")],1)],1)],1)],1)}))],2)],1)},r=[]},"059c":function(e,t,i){"use strict";function a(e){var t,i,a;return e<128?[e]:e<2048?(t=192+(e>>6),i=128+(63&e),[t,i]):(t=224+(e>>12),i=128+(e>>6&63),a=128+(63&e),[t,i,a])}function n(e){for(var t=[],i=0;i<e.length;i++)for(var n=e.charCodeAt(i),r=a(n),o=0;o<r.length;o++)t.push(r[o]);return t}function r(e,t){this.typeNumber=-1,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.rsBlocks=null,this.totalDataCount=-1,this.data=e,this.utf8bytes=n(e),this.make()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,r.prototype={constructor:r,getModuleCount:function(){return this.moduleCount},make:function(){this.getRightType(),this.dataCache=this.createData(),this.createQrcode()},makeImpl:function(e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var t=0;t<this.moduleCount;t++)this.modules[t]=new Array(this.moduleCount);this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(!0,e),this.typeNumber>=7&&this.setupTypeNumber(!0),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(e,t){for(var i=-1;i<=7;i++)if(!(e+i<=-1||this.moduleCount<=e+i))for(var a=-1;a<=7;a++)t+a<=-1||this.moduleCount<=t+a||(this.modules[e+i][t+a]=0<=i&&i<=6&&(0==a||6==a)||0<=a&&a<=6&&(0==i||6==i)||2<=i&&i<=4&&2<=a&&a<=4)},createQrcode:function(){for(var e=0,t=0,i=null,a=0;a<8;a++){this.makeImpl(a);var n=l.getLostPoint(this);(0==a||e>n)&&(e=n,t=a,i=this.modules)}this.modules=i,this.setupTypeInfo(!1,t),this.typeNumber>=7&&this.setupTypeNumber(!1)},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0,null==this.modules[6][e]&&(this.modules[6][e]=e%2==0))},setupPositionAdjustPattern:function(){for(var e=l.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var i=0;i<e.length;i++){var a=e[t],n=e[i];if(null==this.modules[a][n])for(var r=-2;r<=2;r++)for(var o=-2;o<=2;o++)this.modules[a+r][n+o]=-2==r||2==r||-2==o||2==o||0==r&&0==o}},setupTypeNumber:function(e){for(var t=l.getBCHTypeNumber(this.typeNumber),i=0;i<18;i++){var a=!e&&1==(t>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=a,this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=a}},setupTypeInfo:function(e,t){for(var i=o[this.errorCorrectLevel]<<3|t,a=l.getBCHTypeInfo(i),n=0;n<15;n++){var r=!e&&1==(a>>n&1);n<6?this.modules[n][8]=r:n<8?this.modules[n+1][8]=r:this.modules[this.moduleCount-15+n][8]=r;r=!e&&1==(a>>n&1);n<8?this.modules[8][this.moduleCount-n-1]=r:n<9?this.modules[8][15-n-1+1]=r:this.modules[8][15-n-1]=r}this.modules[this.moduleCount-8][8]=!e},createData:function(){var e=new h,t=this.typeNumber>9?16:8;e.put(4,4),e.put(this.utf8bytes.length,t);for(var i=0,a=this.utf8bytes.length;i<a;i++)e.put(this.utf8bytes[i],8);e.length+4<=8*this.totalDataCount&&e.put(0,4);while(e.length%8!=0)e.putBit(!1);while(1){if(e.length>=8*this.totalDataCount)break;if(e.put(r.PAD0,8),e.length>=8*this.totalDataCount)break;e.put(r.PAD1,8)}return this.createBytes(e)},createBytes:function(e){for(var t=0,i=0,a=0,n=this.rsBlock.length/3,r=new Array,o=0;o<n;o++)for(var s=this.rsBlock[3*o+0],u=this.rsBlock[3*o+1],c=this.rsBlock[3*o+2],f=0;f<s;f++)r.push([c,u]);for(var h=new Array(r.length),g=new Array(r.length),b=0;b<r.length;b++){var m=r[b][0],p=r[b][1]-m;i=Math.max(i,m),a=Math.max(a,p),h[b]=new Array(m);for(o=0;o<h[b].length;o++)h[b][o]=255&e.buffer[o+t];t+=m;var v=l.getErrorCorrectPolynomial(p),w=new d(h[b],v.getLength()-1),y=w.mod(v);g[b]=new Array(v.getLength()-1);for(o=0;o<g[b].length;o++){var x=o+y.getLength()-g[b].length;g[b][o]=x>=0?y.get(x):0}}var k=new Array(this.totalDataCount),I=0;for(o=0;o<i;o++)for(b=0;b<r.length;b++)o<h[b].length&&(k[I++]=h[b][o]);for(o=0;o<a;o++)for(b=0;b<r.length;b++)o<g[b].length&&(k[I++]=g[b][o]);return k},mapData:function(e,t){for(var i=-1,a=this.moduleCount-1,n=7,r=0,o=this.moduleCount-1;o>0;o-=2){6==o&&o--;while(1){for(var s=0;s<2;s++)if(null==this.modules[a][o-s]){var u=!1;r<e.length&&(u=1==(e[r]>>>n&1));var c=l.getMask(t,a,o-s);c&&(u=!u),this.modules[a][o-s]=u,n--,-1==n&&(r++,n=7)}if(a+=i,a<0||this.moduleCount<=a){a-=i,i=-i;break}}}}},r.PAD0=236,r.PAD1=17;for(var o=[1,0,3,2],s={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},l={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){var t=e<<10;while(l.getBCHDigit(t)-l.getBCHDigit(l.G15)>=0)t^=l.G15<<l.getBCHDigit(t)-l.getBCHDigit(l.G15);return(e<<10|t)^l.G15_MASK},getBCHTypeNumber:function(e){var t=e<<12;while(l.getBCHDigit(t)-l.getBCHDigit(l.G18)>=0)t^=l.G18<<l.getBCHDigit(t)-l.getBCHDigit(l.G18);return e<<12|t},getBCHDigit:function(e){var t=0;while(0!=e)t++,e>>>=1;return t},getPatternPosition:function(e){return l.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,i){switch(e){case s.PATTERN000:return(t+i)%2==0;case s.PATTERN001:return t%2==0;case s.PATTERN010:return i%3==0;case s.PATTERN011:return(t+i)%3==0;case s.PATTERN100:return(Math.floor(t/2)+Math.floor(i/3))%2==0;case s.PATTERN101:return t*i%2+t*i%3==0;case s.PATTERN110:return(t*i%2+t*i%3)%2==0;case s.PATTERN111:return(t*i%3+(t+i)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new d([1],0),i=0;i<e;i++)t=t.multiply(new d([1,u.gexp(i)],0));return t},getLostPoint:function(e){for(var t=e.getModuleCount(),i=0,a=0,n=0;n<t;n++)for(var r=0,o=e.modules[n][0],s=0;s<t;s++){var l=e.modules[n][s];if(s<t-6&&l&&!e.modules[n][s+1]&&e.modules[n][s+2]&&e.modules[n][s+3]&&e.modules[n][s+4]&&!e.modules[n][s+5]&&e.modules[n][s+6]&&(s<t-10?e.modules[n][s+7]&&e.modules[n][s+8]&&e.modules[n][s+9]&&e.modules[n][s+10]&&(i+=40):s>3&&e.modules[n][s-1]&&e.modules[n][s-2]&&e.modules[n][s-3]&&e.modules[n][s-4]&&(i+=40)),n<t-1&&s<t-1){var u=0;l&&u++,e.modules[n+1][s]&&u++,e.modules[n][s+1]&&u++,e.modules[n+1][s+1]&&u++,0!=u&&4!=u||(i+=3)}o^l?r++:(o=l,r>=5&&(i+=3+r-5),r=1),l&&a++}for(s=0;s<t;s++)for(r=0,o=e.modules[0][s],n=0;n<t;n++){l=e.modules[n][s];n<t-6&&l&&!e.modules[n+1][s]&&e.modules[n+2][s]&&e.modules[n+3][s]&&e.modules[n+4][s]&&!e.modules[n+5][s]&&e.modules[n+6][s]&&(n<t-10?e.modules[n+7][s]&&e.modules[n+8][s]&&e.modules[n+9][s]&&e.modules[n+10][s]&&(i+=40):n>3&&e.modules[n-1][s]&&e.modules[n-2][s]&&e.modules[n-3][s]&&e.modules[n-4][s]&&(i+=40)),o^l?r++:(o=l,r>=5&&(i+=3+r-5),r=1)}var c=Math.abs(100*a/t/t-50)/5;return i+=10*c,i}},u={glog:function(e){if(e<1)throw new Error("glog("+e+")");return u.LOG_TABLE[e]},gexp:function(e){while(e<0)e+=255;while(e>=256)e-=255;return u.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},c=0;c<8;c++)u.EXP_TABLE[c]=1<<c;for(c=8;c<256;c++)u.EXP_TABLE[c]=u.EXP_TABLE[c-4]^u.EXP_TABLE[c-5]^u.EXP_TABLE[c-6]^u.EXP_TABLE[c-8];for(c=0;c<255;c++)u.LOG_TABLE[u.EXP_TABLE[c]]=c;function d(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);var i=0;while(i<e.length&&0==e[i])i++;this.num=new Array(e.length-i+t);for(var a=0;a<e.length-i;a++)this.num[a]=e[a+i]}d.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),i=0;i<this.getLength();i++)for(var a=0;a<e.getLength();a++)t[i+a]^=u.gexp(u.glog(this.get(i))+u.glog(e.get(a)));return new d(t,0)},mod:function(e){var t=this.getLength(),i=e.getLength();if(t-i<0)return this;for(var a=new Array(t),n=0;n<t;n++)a[n]=this.get(n);while(a.length>=i){var r=u.glog(a[0])-u.glog(e.get(0));for(n=0;n<e.getLength();n++)a[n]^=u.gexp(u.glog(e.get(n))+r);while(0==a[0])a.shift()}return new d(a,0)}};var f=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];function h(){this.buffer=new Array,this.length=0}r.prototype.getRightType=function(){for(var e=1;e<41;e++){var t=f[4*(e-1)+this.errorCorrectLevel];if(void 0==t)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+this.errorCorrectLevel);for(var i=t.length/3,a=0,n=0;n<i;n++){var r=t[3*n+0],o=t[3*n+2];a+=o*r}var s=e>9?2:1;if(this.utf8bytes.length+s<a||40==e){this.typeNumber=e,this.rsBlock=t,this.totalDataCount=a;break}}},h.prototype={get:function(e){var t=Math.floor(e/8);return this.buffer[t]>>>7-e%8&1},put:function(e,t){for(var i=0;i<t;i++)this.putBit(e>>>t-i-1&1)},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}}},"159a":function(e,t,i){"use strict";i.r(t);var a=i("04d2"),n=i("b2b4");for(var r in n)"default"!==r&&function(e){i.d(t,e,(function(){return n[e]}))}(r);i("2512"),i("2d0f");var o,s=i("f0c5"),l=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"5c7f1422",null,!1,a["a"],o);t["default"]=l.exports},1898:function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,"\nbody.?%PAGE?%[data-v-5c7f1422]{background-color:#f2f2f2}",""]),e.exports=t},"1e38":function(e,t,i){var a=i("1898");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("3d25a10c",a,!0,{sourceMap:!1,shadowMode:!1})},2512:function(e,t,i){"use strict";var a=i("1e38"),n=i.n(a);n.a},"2d0f":function(e,t,i){"use strict";var a=i("ecb6"),n=i.n(a);n.a},"2f07":function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */.u-loading-circle[data-v-1b741bef]{display:-webkit-inline-box;display:-webkit-inline-flex;display:inline-flex;vertical-align:middle;width:%?28?%;height:%?28?%;background:0 0;border-radius:50%;border:2px solid;border-color:#e5e5e5 #e5e5e5 #e5e5e5 #8f8d8e;-webkit-animation:u-circle-data-v-1b741bef 1s linear infinite;animation:u-circle-data-v-1b741bef 1s linear infinite}.u-loading-flower[data-v-1b741bef]{width:20px;height:20px;display:inline-block;vertical-align:middle;-webkit-animation:a 1s steps(12) infinite;animation:u-flower-data-v-1b741bef 1s steps(12) infinite;background:transparent url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjAiIGhlaWdodD0iMTIwIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCI+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTAgMGgxMDB2MTAwSDB6Ii8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjRTlFOUU5IiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLTMwKSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iIzk4OTY5NyIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgzMCAxMDUuOTggNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjOUI5OTlBIiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKDYwIDc1Ljk4IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0EzQTFBMiIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSg5MCA2NSA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNBQkE5QUEiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoMTIwIDU4LjY2IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0IyQjJCMiIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgxNTAgNTQuMDIgNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjQkFCOEI5IiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKDE4MCA1MCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNDMkMwQzEiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTE1MCA0NS45OCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNDQkNCQ0IiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTEyMCA0MS4zNCA2NSkiLz48cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIyMCIgeD0iNDYuNSIgeT0iNDAiIGZpbGw9IiNEMkQyRDIiIHJ4PSI1IiByeT0iNSIgdHJhbnNmb3JtPSJyb3RhdGUoLTkwIDM1IDY1KSIvPjxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjIwIiB4PSI0Ni41IiB5PSI0MCIgZmlsbD0iI0RBREFEQSIgcng9IjUiIHJ5PSI1IiB0cmFuc2Zvcm09InJvdGF0ZSgtNjAgMjQuMDIgNjUpIi8+PHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iMjAiIHg9IjQ2LjUiIHk9IjQwIiBmaWxsPSIjRTJFMkUyIiByeD0iNSIgcnk9IjUiIHRyYW5zZm9ybT0icm90YXRlKC0zMCAtNS45OCA2NSkiLz48L3N2Zz4=) no-repeat;background-size:100%}@-webkit-keyframes u-flower-data-v-1b741bef{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes u-flower-data-v-1b741bef{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes u-circle-data-v-1b741bef{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}',""]),e.exports=t},"33b2":function(e,t,i){"use strict";var a;i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return a}));var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.show?i("v-uni-view",{staticClass:"u-loading",class:"circle"==e.mode?"u-loading-circle":"u-loading-flower",style:[e.cricleStyle]}):e._e()},r=[]},"37e4":function(e,t,i){"use strict";var a=i("b60c"),n=i.n(a);n.a},4960:function(e,t,i){"use strict";function a(e){if(0===e.indexOf("_www")||0===e.indexOf("_doc")||0===e.indexOf("_documents")||0===e.indexOf("_downloads"))return e;if(0===e.indexOf("file://"))return e;if(0===e.indexOf("/storage/emulated/0/"))return e;if(0===e.indexOf("/")){var t=plus.io.convertAbsoluteFileSystem(e);if(t!==e)return t;e=e.substr(1)}return"_www/"+e}function n(e){return new Promise((function(t,i){if("object"===typeof window&&"document"in window){if("function"===typeof FileReader){var n=new XMLHttpRequest;return n.open("GET",e,!0),n.responseType="blob",n.onload=function(){if(200===this.status){var e=new FileReader;e.onload=function(e){t(e.target.result)},e.onerror=i,e.readAsDataURL(this.response)}},n.onerror=i,void n.send()}var r=document.createElement("canvas"),o=r.getContext("2d"),s=new Image;return s.onload=function(){r.width=s.width,r.height=s.height,o.drawImage(s,0,0),t(r.toDataURL()),r.height=r.width=0},s.onerror=i,void(s.src=e)}"object"!==typeof plus?"object"===typeof wx&&wx.canIUse("getFileSystemManager")?wx.getFileSystemManager().readFile({filePath:e,encoding:"base64",success:function(e){t("data:image/png;base64,"+e.data)},fail:function(e){i(e)}}):i(new Error("not support")):plus.io.resolveLocalFileSystemURL(a(e),(function(e){e.file((function(e){var a=new plus.io.FileReader;a.onload=function(e){t(e.target.result)},a.onerror=function(e){i(e)},a.readAsDataURL(e)}),(function(e){i(e)}))}),(function(e){i(e)}))}))}function r(e){return new Promise((function(t,i){if("object"===typeof window&&"document"in window){e=e.split(",");var a=e[0].match(/:(.*?);/)[1],n=atob(e[1]),r=n.length,o=new Uint8Array(r);while(r--)o[r]=n.charCodeAt(r);return t((window.URL||window.webkitURL).createObjectURL(new Blob([o],{type:a})))}var s=e.match(/data\:\S+\/(\S+);/);s?s=s[1]:i(new Error("base64 error"));var l=Date.now()+"."+s;if("object"!==typeof plus)if("object"===typeof wx&&wx.canIUse("getFileSystemManager")){var u=wx.env.USER_DATA_PATH+"/"+l;wx.getFileSystemManager().writeFile({filePath:u,data:e.replace(/^data:\S+\/\S+;base64,/,""),encoding:"base64",success:function(){t(u)},fail:function(e){i(e)}})}else i(new Error("not support"));else{var c=new plus.nativeObj.Bitmap("bitmap"+Date.now());c.loadBase64Data(e,(function(){var e="_doc/uniapp_temp/"+l;c.save(e,{},(function(){c.clear(),t(e)}),(function(e){c.clear(),i(e)}))}),(function(e){c.clear(),i(e)}))}}))}i("c975"),i("ace4"),i("d3b7"),i("ac1f"),i("3ca3"),i("466d"),i("5319"),i("1276"),i("5cc6"),i("9a8c"),i("a975"),i("735e"),i("c1ac"),i("d139"),i("3a7b"),i("d5d6"),i("82f8"),i("e91f"),i("60bd"),i("5f96"),i("3280"),i("3fcc"),i("ca91"),i("25a1"),i("cd26"),i("3c5d"),i("2954"),i("649e"),i("219c"),i("170b"),i("b39a"),i("72f7"),i("ddb0"),i("2b3d"),Object.defineProperty(t,"__esModule",{value:!0}),t.pathToBase64=n,t.base64ToPath=r},"4dba":function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */.header[data-v-5c7f1422]{display:-webkit-box;display:-webkit-flex;display:flex;background-color:#fff;padding:%?10?% 0 %?10?% %?10?%}.item[data-v-5c7f1422]{display:-webkit-box;display:-webkit-flex;display:flex;margin:%?8?% 0 0;padding:%?10?% 0 %?10?% %?10?%;background-color:#fff;margin:%?20?% auto;border-radius:%?20?%}.item .left[data-v-5c7f1422]{display:-webkit-box;display:-webkit-flex;display:flex;vertical-align:middle;line-height:%?180?%}.item .left uni-image[data-v-5c7f1422]{width:%?200?%;height:%?180?%;border-radius:%?10?%}.item .content[data-v-5c7f1422]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin:%?0?% 0 0 %?20?%;width:%?504?%}.item .content .dinggou[data-v-5c7f1422]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.item .content .dinggou .jiage[data-v-5c7f1422]{display:-webkit-box;display:-webkit-flex;display:flex}.hideCanvasView[data-v-5c7f1422]{position:relative}.hideCanvas[data-v-5c7f1422]{position:fixed;top:%?-99999?%;left:%?-99999?%;z-index:-99999}.flex_row_c_c[data-v-5c7f1422]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.modalView[data-v-5c7f1422]{width:100%;height:100%;position:fixed;top:0;left:0;right:0;bottom:0;opacity:0;outline:0;-webkit-transform:scale(1.2);transform:scale(1.2);-webkit-perspective:%?2500?%;perspective:%?2500?%;background:rgba(0,0,0,.6);-webkit-transition:all .3s ease-in-out;transition:all .3s ease-in-out;pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:999}.modalView.show[data-v-5c7f1422]{opacity:1;-webkit-transform:scale(1);transform:scale(1);pointer-events:auto}.flex_column[data-v-5c7f1422]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.backgroundColor-white[data-v-5c7f1422]{background-color:#fff}.border_radius_10px[data-v-5c7f1422]{border-radius:10px}.padding1vh[data-v-5c7f1422]{padding:1vh}.posterImage[data-v-5c7f1422]{width:60vw}.flex_row[data-v-5c7f1422]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row}.marginTop2vh[data-v-5c7f1422]{margin-top:2vh}',""]),e.exports=t},"542d":function(e,t,i){"use strict";var a=i("23e7"),n=i("d039"),r=i("408a"),o=1..toPrecision,s=n((function(){return"1"!==o.call(1,void 0)}))||!n((function(){o.call({})}));a({target:"Number",proto:!0,forced:s},{toPrecision:function(e){return void 0===e?o.call(r(this)):o.call(r(this),e)}})},5679:function(e,t,i){"use strict";function a(e,t,i){var a=plus.screen.resolutionWidth,n=25,r=25,o=55,s=55,l=10,u=12,c=Math.floor(a/(o+r)),d=(a-(o+r)*c-r)/(c+1),f=r+d,h=o+f,g=s+l+u+n,b=s+l,m=new plus.nativeObj.View("alphaBg",{top:"0px",left:"0px",height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0.5)"});m.addEventListener("click",(function(){m.hide(),p.hide()}));var p=new plus.nativeObj.View("shareMenu",{bottom:"0px",left:"0px",height:Math.ceil(t.length/c)*g+n+44+1+"px",width:"100%",backgroundColor:"rgb(255,255,255)"});return p.draw([{tag:"rect",color:"#e7e7e7",position:{top:"0px",height:"1px"}},{tag:"font",id:"sharecancel",text:"取消分享",textStyles:{size:"14px"},position:{bottom:"0px",height:"44px"}},{tag:"rect",color:"#e7e7e7",position:{bottom:"45px",height:"1px"}}]),t.map((function(e,t){var i=(new Date).getTime(),a=Math.floor(t/c),r=t%c,s=[{src:e.icon,id:1e3*Math.random()+i,tag:"img",position:{top:a*g+n,left:r*h+f,width:o,height:o}},{text:e.text,id:1e3*Math.random()+i,tag:"font",textStyles:{size:u},position:{top:a*g+b,left:r*h+f,width:o,height:o}}];p.draw(s)})),p.addEventListener("click",(function(e){if(e.screenY>plus.screen.resolutionHeight-44)m.hide(),p.hide();else if(e.clientX<5||e.clientX>a-5||e.clientY<5);else{var t=e.clientX,n=e.clientY,r=Math.floor(t/h),o=Math.floor(n/g),s=r+o*c;i&&i(s)}})),{alphaBg:m,shareMenu:p}}i("d81d"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a;t.default=n},"60e0":function(e,t,i){"use strict";(function(t){var a=i("4ea4");i("cb29"),i("4160"),i("4e82"),i("a9e3"),i("b680"),i("542d"),i("d3b7"),i("ac1f"),i("1276"),i("498a"),i("159b");var n=a(i("2909")),r=a(i("5530"));i("96cf");var o=a(i("1da1")),s=a(i("b017")),l=a(i("059c")),u=i("4960"),c="QSSHAREPOSTER_IDKEY",d=1;function f(e){return new Promise(function(){var i=(0,o.default)(regeneratorRuntime.mark((function i(a,n){var r,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,h(e);case 3:r=i.sent,a(r),i.next=21;break;case 7:return i.prev=7,i.t0=i["catch"](0),i.prev=9,e.bgScale?e.bgScale=Number(e.bgScale)-.1:d-=.1,t.log("------------清除缓存后, 开始第二次尝试------------"),i.next=14,h(e);case 14:o=i.sent,a(o),i.next=21;break;case 18:i.prev=18,i.t1=i["catch"](9),n(i.t1);case 21:case"end":return i.stop()}}),i,null,[[0,7],[9,18]])})));return function(e,t){return i.apply(this,arguments)}}())}function h(e){var i=e.type,a=e.formData,l=e.background,u=e.posterCanvasId,f=e.backgroundImage,h=e.reserve,b=e.textArray,m=e.drawArray,p=e.qrCodeArray,v=e.imagesArray,y=e.setCanvasWH,x=e.setCanvasToTempFilePath,k=e.setDraw,S=e.bgScale,N=e.Context,P=e._this,T=e.delayTimeScale,A=e.drawDelayTime;return new Promise(function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(o,C){var j,L,_,B,F,D,M,R,E,H,J,z,U;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,s.default.showLoading("正在准备海报数据"),N||(s.default.log("没有画布对象,创建画布对象"),N=uni.createCanvasContext(u,P||null)),!(l&&l.width&&l.height)){e.next=7;break}j=l,e.next=10;break;case 7:return e.next=9,O({backgroundImage:f,type:i,formData:a});case 9:j=e.sent;case 10:if(S=S||d,j.width=j.width*S,j.height=j.height*S,s.default.log("获取背景图信息对象成功:"+JSON.stringify(j)),L={bgObj:j,type:i,bgScale:S,getBgObj:function(){return L.bgObj},setBgObj:function(e){var t=(0,r.default)((0,r.default)({},L.bgObj),e);L.bgObj=t,j=t}},!v){e.next=23;break}return"function"==typeof v&&(v=v(L)),s.default.showLoading("正在生成需绘制图片的临时路径"),s.default.log("准备设置图片"),e.next=21,I(v);case 21:v=e.sent,s.default.hideLoading();case 23:if(b&&("function"==typeof b&&(b=b(L)),b=w(N,b)),!p){e.next=38;break}"function"==typeof p&&(p=p(L)),s.default.showLoading("正在生成需绘制图片的临时路径"),_=0;case 28:if(!(_<p.length)){e.next=37;break}if(s.default.log(_),!p[_].image){e.next=34;break}return e.next=33,s.default.downloadFile_PromiseFc(p[_].image);case 33:p[_].image=e.sent;case 34:_++,e.next=28;break;case 37:s.default.hideLoading();case 38:if(!m){e.next=99;break}if("function"==typeof m&&(m=m(L)),!s.default.isPromise(m)){e.next=44;break}return e.next=43,m;case 43:m=e.sent;case 44:if(!(s.default.isArray(m)&&m.length>0)){e.next=99;break}B=!1,F=0;case 47:if(!(F<m.length)){e.next=79;break}D=m[F],s.default.isFn(D.allInfoCallback)&&!B&&(B=!0),D[c]=F,M=void 0,e.t0=D.type,e.next="image"===e.t0?55:"text"===e.t0?59:"qrcode"===e.t0?61:"custom"===e.t0?67:"fillrect"===e.t0?68:"strokeRect"===e.t0?69:"roundStrokeRect"===e.t0?70:"roundFillRect"===e.t0?71:72;break;case 55:return e.next=57,I(D);case 57:return M=e.sent,e.abrupt("break",74);case 59:return M=w(N,D),e.abrupt("break",74);case 61:if(!D.image){e.next=66;break}return e.next=64,s.default.downloadFile_PromiseFc(D.image);case 64:e.t1=e.sent,M={image:e.t1};case 66:return e.abrupt("break",74);case 67:return e.abrupt("break",74);case 68:return e.abrupt("break",74);case 69:return e.abrupt("break",74);case 70:return e.abrupt("break",74);case 71:return e.abrupt("break",74);case 72:return s.default.log("未识别的类型"),e.abrupt("break",74);case 74:M&&s.default.isObject(M)&&(m[F]=(0,r.default)((0,r.default)({},D),M));case 76:F++,e.next=47;break;case 79:if(!B){e.next=99;break}s.default.log("----------------hasAllInfoCallback----------------"),R=(0,n.default)(m),R.sort((function(e,t){var i=s.default.isUndef(e.serialNum)||s.default.isNull(e.serialNum)?Number.NEGATIVE_INFINITY:Number(e.serialNum),a=s.default.isUndef(t.serialNum)||s.default.isNull(t.serialNum)?Number.NEGATIVE_INFINITY:Number(t.serialNum);return i-a})),s.default.log("开始for循环"),E=0;case 85:if(!(E<R.length)){e.next=98;break}if(H=(0,r.default)({},R[E]),!s.default.isFn(H.allInfoCallback)){e.next=95;break}if(J=H.allInfoCallback({drawArray:m}),!s.default.isPromise(J)){e.next=93;break}return e.next=92,J;case 92:J=e.sent;case 93:z=H[c],s.default.isUndef(z)?t.log("程序错误 找不到idKey!!!\t...这不应该啊"):m[H[c]]=(0,r.default)((0,r.default)({},H),J);case 95:E++,e.next=85;break;case 98:s.default.log("for循环结束");case 99:if(t.log("params:"+JSON.stringify(L)),!y||"function"!=typeof y){e.next=103;break}return e.next=103,new Promise((function(e,t){y(L),setTimeout((function(){e()}),50)}));case 103:return e.next=105,g({Context:N,type:i,posterCanvasId:u,reserve:h,drawArray:m,textArray:b,imagesArray:v,bgObj:j,qrCodeArray:p,setCanvasToTempFilePath:x,setDraw:k,bgScale:S,_this:P,delayTimeScale:T,drawDelayTime:A});case 105:U=e.sent,s.default.hideLoading(),o({bgObj:j,poster:U,type:i}),e.next=113;break;case 110:e.prev=110,e.t2=e["catch"](0),C(e.t2);case 113:case"end":return e.stop()}}),e,null,[[0,110]])})));return function(t,i){return e.apply(this,arguments)}}())}function g(e){var i=e.Context,a=e.type,n=e.posterCanvasId,o=e.reserve,l=e.bgObj,u=e.drawArray,c=e.textArray,d=e.qrCodeArray,f=e.imagesArray,h=e.setCanvasToTempFilePath,g=e.setDraw,w=e.bgScale,y=e._this,x=e.delayTimeScale,k=e.drawDelayTime,I={Context:i,bgObj:l,type:a,bgScale:w};return x=void 0!==x?x:15,k=void 0!==k?k:100,new Promise((function(e,w){try{if(s.default.showLoading("正在绘制海报"),s.default.log("背景对象:"+JSON.stringify(l)),l&&l.path?(s.default.log("背景有图片路径"),i.drawImage(l.path,0,0,l.width,l.height)):(s.default.log("背景没有图片路径"),l.backgroundColor?(s.default.log("背景有背景颜色:"+l.backgroundColor),i.setFillStyle(l.backgroundColor),i.fillRect(0,0,l.width,l.height)):s.default.log("背景没有背景颜色")),s.default.showLoading("绘制图片"),f&&f.length>0&&j(i,f),s.default.showLoading("绘制自定义内容"),g&&"function"==typeof g&&g(I),s.default.showLoading("绘制文本"),c&&c.length>0&&P(i,c,l),s.default.showLoading("绘制二维码"),d&&d.length>0)for(var S=0;S<d.length;S++)D(i,d[S]);if(s.default.showLoading("绘制可控层级序列"),u&&u.length>0)for(var N=0;N<u.length;N++){var T=u[N];switch(s.default.log("绘制可控层级序列, drawArrayItem:"+JSON.stringify(T)),T.type){case"image":s.default.log("绘制可控层级序列, 绘制图片"),j(i,T);break;case"text":s.default.log("绘制可控层级序列, 绘制文本"),P(i,T,l);break;case"qrcode":s.default.log("绘制可控层级序列, 绘制二维码"),D(i,T);break;case"custom":s.default.log("绘制可控层级序列, 绘制自定义内容"),T.setDraw&&"function"===typeof T.setDraw&&T.setDraw(i);break;case"fillRect":s.default.log("绘制可控层级序列, 绘制填充直角矩形"),b(i,T);break;case"strokeRect":s.default.log("绘制可控层级序列, 绘制线条直角矩形"),m(i,T);break;case"roundStrokeRect":s.default.log("绘制可控层级序列, 绘制线条圆角矩形"),p(i,T);break;case"roundFillRect":s.default.log("绘制可控层级序列, 绘制填充圆角矩形"),v(i,T);break;default:s.default.log("未识别的类型");break}}s.default.showLoading("绘制中"),setTimeout((function(){s.default.log("准备执行draw方法"),s.default.log("Context:"+i);var g=function(){s.default.showLoading("正在输出图片");var i,o=h||{};o&&"function"==typeof o&&(o=h(l,a));var g=(0,r.default)({x:0,y:0,width:Number(l.width),height:Number(l.height),destWidth:Number(l.width),destHeight:Number(l.height),quality:.8,fileType:"jpg"},o);t.log("canvasToTempFilePath的data对象:"+JSON.stringify(g)),i=function(){var i=(0,r.default)((0,r.default)({},g),{},{canvasId:n,success:function(t){s.default.hideLoading(),e(t)},fail:function(e){s.default.hideLoading(),t.log("输出图片失败"),s.default.log("输出图片失败:"+JSON.stringify(e)),w("输出图片失败:"+JSON.stringify(e))}});uni.canvasToTempFilePath(i,y||null)};var b=0;d&&d.forEach((function(e){e.text&&(b+=Number(e.text.length))})),f&&f.forEach((function(){b+=x})),c&&c.forEach((function(){b+=x})),u&&u.forEach((function(e){switch(e.type){case"text":e.text&&(b+=e.text.length);break;default:b+=x;break}})),s.default.log("延时系数:"+x),s.default.log("总计延时:"+b),setTimeout(i,b)};i.draw("boolean"==typeof o&&o,g)}),k)}catch(A){s.default.hideLoading(),w(A)}}))}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s.default.log("进入绘制填充直角矩形方法, drawArrayItem:"+JSON.stringify(t)),e.setFillStyle(t.backgroundColor||"black"),e.setGlobalAlpha(t.alpha||1),e.fillRect(t.dx||0,t.dy||0,t.width||0,t.height||0),e.setGlobalAlpha(1)}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.setStrokeStyle(t.color||"black"),e.setLineWidth(t.lineWidth||1),e.strokeRect(t.dx,t.dy,t.width,t.height)}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.dx,a=t.dy,n=t.width,r=t.height,o=t.r,s=t.lineWidth,l=t.color;o=o||.1*n,n<2*o&&(o=n/2),n<2*o&&(o=n/2),e.beginPath(),e.moveTo(i+o,a),e.arcTo(i+n,a,i+n,a+r,o),e.arcTo(i+n,a+r,i,a+r,o),e.arcTo(i,a+r,i,a,o),e.arcTo(i,a,i+n,a,o),e.closePath(),e.setLineWidth(s||1),e.setStrokeStyle(l||"black"),e.stroke()}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.dx,a=t.dy,n=t.width,r=t.height,o=t.r,s=t.backgroundColor;o=o||.1*n,n<2*o&&(o=n/2),n<2*o&&(o=n/2),e.beginPath(),e.moveTo(i+o,a),e.arcTo(i+n,a,i+n,a+r,o),e.arcTo(i+n,a+r,i,a+r,o),e.arcTo(i,a+r,i,a,o),e.arcTo(i,a,i+n,a,o),e.closePath(),e.setFillStyle(s),e.fill()}function w(e,t){if(s.default.log("进入设置文字方法, texts:"+JSON.stringify(t)),t&&s.default.isArray(t)){if(s.default.log("texts是数组"),t.length>0)for(var i=0;i<t.length;i++)s.default.log("字符串信息-初始化之前:"+JSON.stringify(t[i])),t[i]=y(e,t[i])}else s.default.log("texts是对象"),t=y(e,t);return s.default.log("返回texts:"+JSON.stringify(t)),t}function y(e,t){if(s.default.log("进入设置文字方法, textItem:"+JSON.stringify(t)),s.default.isNotNull_string(t.text)){t.text=String(t.text),t.alpha=void 0!==t.alpha?Number(t.alpha):1,t.color=t.color||"black",t.size=void 0!==t.size?Number(t.size):10,t.textAlign=t.textAlign||"left",t.textBaseline=t.textBaseline||"middle",t.dx=Number(t.dx)||0,t.dy=Number(t.dy)||0,t.size=Math.ceil(Number(t.size)),s.default.log("字符串信息-初始化默认值后:"+JSON.stringify(t));var i=x(e,{text:t.text,size:t.size});s.default.log("字符串信息-初始化时的文本长度:"+i);var a={};t.infoCallBack&&"function"===typeof t.infoCallBack&&(a=t.infoCallBack(i)),t=(0,r.default)((0,r.default)({},t),{},{textLength:i},a),s.default.log("字符串信息-infoCallBack后:"+JSON.stringify(t))}return t}function x(e,t){s.default.log("计算文字长度, obj:"+JSON.stringify(t));var i,a=t.text,n=t.size;e.setFontSize(n);try{i=e.measureText(a)}catch(c){i={}}if(i={},s.default.log("measureText计算文字长度, textLength:"+JSON.stringify(i)),i=i&&i.width?i.width:0,!i){for(var r=0,o=0;o<a.length;o++){var l=a.substr(o,1),u=k(l);s.default.log("计算文字宽度系数:"+u),r+=u}s.default.log("文字宽度总系数:"+r),i=r*n}return i}function k(e){var t;return t=/a/.test(e)?.552734375:/b/.test(e)?.638671875:/c/.test(e)?.50146484375:/d/.test(e)?.6396484375:/e/.test(e)?.5673828125:/f/.test(e)?.3466796875:/g/.test(e)?.6396484375:/h/.test(e)?.61572265625:/i/.test(e)?.26611328125:/j/.test(e)?.26708984375:/k/.test(e)?.54443359375:/l/.test(e)?.26611328125:/m/.test(e)?.93701171875:/n/.test(e)?.6162109375:/o/.test(e)?.6357421875:/p/.test(e)?.638671875:/q/.test(e)?.6396484375:/r/.test(e)?.3818359375:/s/.test(e)?.462890625:/t/.test(e)?.37255859375:/u/.test(e)?.6162109375:/v/.test(e)?.52490234375:/w/.test(e)?.78955078125:/x/.test(e)?.5068359375:/y/.test(e)?.529296875:/z/.test(e)?.49169921875:/A/.test(e)?.70361328125:/B/.test(e)?.62744140625:/C/.test(e)?.6689453125:/D/.test(e)?.76171875:/E/.test(e)?.5498046875:/F/.test(e)?.53125:/G/.test(e)?.74365234375:/H/.test(e)?.7734375:/I/.test(e)?.2939453125:/J/.test(e)?.39599609375:/K/.test(e)?.634765625:/L/.test(e)?.51318359375:/M/.test(e)?.97705078125:/N/.test(e)?.81298828125:/O/.test(e)?.81494140625:/P/.test(e)?.61181640625:/Q/.test(e)?.81494140625:/R/.test(e)?.65283203125:/S/.test(e)?.5771484375:/T/.test(e)?.5732421875:/U/.test(e)?.74658203125:/V/.test(e)?.67626953125:/W/.test(e)?1.017578125:/X/.test(e)?.64501953125:/Y/.test(e)?.603515625:/Z/.test(e)?.6201171875:/[0-9]/.test(e)?.58642578125:/[\u4e00-\u9fa5]/.test(e)?1:/ /.test(e)?.2958984375:/\`/.test(e)?.294921875:/\~/.test(e)?.74169921875:/\!/.test(e)?.3125:/\@/.test(e)?1.03125:/\#/.test(e)?.63818359375:/\$/.test(e)?.58642578125:/\%/.test(e)?.8896484375:/\^/.test(e)?.74169921875:/\&/.test(e)?.8701171875:/\*/.test(e)?.455078125:/\(/.test(e)||/\)/.test(e)?.333984375:/\_/.test(e)?.4482421875:/\-/.test(e)?.4326171875:/\+/.test(e)||/\=/.test(e)?.74169921875:/\|/.test(e)?.26904296875:/\\/.test(e)?.416015625:/\[/.test(e)||/\]/.test(e)?.333984375:/\;/.test(e)?.24072265625:/\'/.test(e)?.25634765625:/\,/.test(e)||/\./.test(e)?.24072265625:/\//.test(e)?.42724609375:/\{/.test(e)||/\}/.test(e)?.333984375:/\:/.test(e)?.24072265625:/\"/.test(e)?.435546875:/\</.test(e)||/\>/.test(e)?.74169921875:/\?/.test(e)?.48291015625:1,t}function I(e){return s.default.log("进入设置图片数据方法"),new Promise(function(){var t=(0,o.default)(regeneratorRuntime.mark((function t(i,a){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!e||!s.default.isArray(e)){t.next=14;break}s.default.log("images是一个数组"),n=0;case 4:if(!(n<e.length)){t.next=12;break}return s.default.log("设置图片数据循环中:"+n),t.next=8,N(e[n]);case 8:e[n]=t.sent;case 9:n++,t.next=4;break;case 12:t.next=18;break;case 14:return s.default.log("images是一个对象"),t.next=17,N(e);case 17:e=t.sent;case 18:i(e),t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](0),a(t.t0);case 24:case"end":return t.stop()}}),t,null,[[0,21]])})));return function(e,i){return t.apply(this,arguments)}}())}function S(e){var t=/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*?)\s*$/i;return t.test(e)?(0,u.base64ToPath)(e):Promise.resolve(e)}function N(e){return new Promise(function(){var t=(0,o.default)(regeneratorRuntime.mark((function t(i,a){var n,o,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.url){t.next=20;break}return t.next=3,S(e.url);case 3:return e.url=t.sent,n=e.url,t.next=7,s.default.downloadFile_PromiseFc(n);case 7:return n=t.sent,e.url=n,o=e.infoCallBack&&"function"===typeof e.infoCallBack,l={},t.next=13,s.default.getImageInfo_PromiseFc(n);case 13:l=t.sent,o&&(e=(0,r.default)((0,r.default)({},e),e.infoCallBack(l))),e.dx=Number(e.dx)||0,e.dy=Number(e.dy)||0,e.dWidth=Number(e.dWidth||l.width),e.dHeight=Number(e.dHeight||l.height),e=(0,r.default)((0,r.default)({},e),{},{imageInfo:l});case 20:i(e);case 21:case"end":return t.stop()}}),t)})));return function(e,i){return t.apply(this,arguments)}}())}function P(e,t,i){s.default.isArray(t)?s.default.log("遍历文本方法, 是数组"):(s.default.log("遍历文本方法, 不是数组"),t=[t]),s.default.log("遍历文本方法, textArray:"+JSON.stringify(t));var a=[];if(t&&t.length>0)for(var n=0;n<t.length;n++){var o=t[n];if(o.text&&o.lineFeed){var l=-1,u=i.width,c=o.size,d=o.dx;if(s.default.isObject(o.lineFeed)){var f=o.lineFeed;l=void 0!==f.lineNum&&"number"===typeof f.lineNum&&f.lineNum>=0?f.lineNum:l,u=void 0!==f.maxWidth&&"number"===typeof f.maxWidth?f.maxWidth:u,c=void 0!==f.lineHeight&&"number"===typeof f.lineHeight?f.lineHeight:c,d=void 0!==f.dx&&"number"===typeof f.dx?f.dx:d}for(var h=o.text.split(""),g="",b=[],m=0,p=h.length;m<p;m++)x(e,{text:g,size:o.size})<=u&&x(e,{text:g+h[m],size:o.size})<=u?(g+=h[m],m==h.length-1&&b.push(g)):(b.push(g),g=h[m]);s.default.log("循环出的文本数组:"+JSON.stringify(b));for(var v=l>=0&&l<b.length?l:b.length,w=0;w<v;w++){var y=b[w];w==v-1&&v<b.length&&(y=y.substring(0,y.length-1)+"...");var k=(0,r.default)((0,r.default)({},o),{},{text:y,dx:0===w?o.dx:d>=0?d:o.dx,dy:o.dy+w*c,textLength:x(e,{text:y,size:o.size})});s.default.log("重新组成的文本对象:"+JSON.stringify(k)),a.push(k)}}else a.push(o)}s.default.log("绘制文本新数组:"+JSON.stringify(a)),A(e,a)}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.font&&"string"===typeof e.font)return s.default.log(e.font),e.font;var t="normal",i="normal",a="normal",n=e.size||10,r="sans-serif";return n=Math.ceil(Number(n)),e.fontStyle&&"string"===typeof e.fontStyle&&(t=e.fontStyle.trim()),e.fontVariant&&"string"===typeof e.fontVariant&&(i=e.fontVariant.trim()),!e.fontWeight||"string"!==typeof e.fontWeight&&"number"!==typeof e.fontWeight||(a=e.fontWeight.trim()),e.fontFamily&&"string"===typeof e.fontFamily&&(r=e.fontFamily.trim()),t+" "+i+" "+a+" "+n+"px "+r}function A(e,t){if(s.default.log("准备绘制文本方法, texts:"+JSON.stringify(t)),t&&s.default.isArray(t)){if(s.default.log("准备绘制文本方法, 是数组"),t.length>0)for(var i=0;i<t.length;i++)C(e,t[i])}else s.default.log("准备绘制文本方法, 不是数组"),C(e,t)}function C(e,t){if(s.default.log("进入绘制文本方法, textItem:"+JSON.stringify(t)),t&&s.default.isObject(t)&&t.text){if(e.font=T(t),e.setFillStyle(t.color),e.setGlobalAlpha(t.alpha),e.setTextAlign(t.textAlign),e.setTextBaseline(t.textBaseline),e.fillText(t.text,t.dx,t.dy),t.lineThrough&&s.default.isObject(t.lineThrough)){s.default.log("有删除线");var i,a,n=t.lineThrough;switch(n.alpha=void 0!==n.alpha?n.alpha:t.alpha,n.style=n.style||t.color,n.width=void 0!==n.width?n.width:t.size/10,n.cap=void 0!==n.cap?n.cap:"butt",s.default.log("删除线对象:"+JSON.stringify(n)),e.setGlobalAlpha(n.alpha),e.setStrokeStyle(n.style),e.setLineWidth(n.width),e.setLineCap(n.cap),t.textAlign){case"left":i=t.dx;break;case"center":i=t.dx-t.textLength/2;break;default:i=t.dx-t.textLength;break}switch(t.textBaseline){case"top":a=t.dy+.5*t.size;break;case"middle":a=t.dy;break;default:a=t.dy-.5*t.size;break}e.beginPath(),e.moveTo(i,a),e.lineTo(i+t.textLength,a),e.stroke(),e.closePath(),s.default.log("删除线完毕")}e.setGlobalAlpha(1),e.font="10px sans-serif"}}function j(e,t){if(s.default.log("判断图片数据类型:"+JSON.stringify(t)),t&&s.default.isArray(t)){if(t.length>0)for(var i=0;i<t.length;i++)L(e,t[i])}else L(e,t)}function L(e,t){s.default.log("判断绘制图片形状, img:"+JSON.stringify(t)),t.url&&(t.circleSet?B(e,t):t.roundRectSet?F(e,t):_(e,t))}function _(e,t){if(s.default.log("进入绘制默认图片方法, img:"+JSON.stringify(t)),t.url){var i=!s.default.isUndef(t.alpha);t.alpha=Number(s.default.isUndef(t.alpha)?1:t.alpha),e.setGlobalAlpha(t.alpha),s.default.log("绘制默认图片方法, 有url"),t.dWidth&&t.dHeight&&t.sx&&t.sy&&t.sWidth&&t.sHeight?(s.default.log("绘制默认图片方法, 绘制第一种方案"),e.drawImage(t.url,Number(t.sx)||!1,Number(t.sy)||!1,Number(t.sWidth)||!1,Number(t.sHeight)||!1,Number(t.dx||0),Number(t.dy||0),Number(t.dWidth)||!1,Number(t.dHeight)||!1)):t.dWidth&&t.dHeight?(s.default.log("绘制默认图片方法, 绘制第二种方案"),e.drawImage(t.url,Number(t.dx||0),Number(t.dy||0),Number(t.dWidth)||!1,Number(t.dHeight)||!1)):(s.default.log("绘制默认图片方法, 绘制第三种方案"),e.drawImage(t.url,Number(t.dx||0),Number(t.dy||0))),i&&e.setGlobalAlpha(1)}s.default.log("绘制默认图片方法, 绘制完毕")}function B(e,t){s.default.log("进入绘制圆形图片方法, obj:"+JSON.stringify(t));var i,a,n,r,o=t.dx,l=t.dy,u=t.dWidth,c=t.dHeight,d=t.circleSet;t.imageInfo;("object"===typeof d&&(i=d.x,a=d.y,n=d.r),n)||(r=u>c?c:u,n=r/2);i=i?o+i:(o||0)+n,a=a?l+a:(l||0)+n,e.save(),e.beginPath(),e.arc(i,a,n,0,2*Math.PI,!1),e.closePath(),e.setGlobalAlpha(0),e.fillStyle="#FFFFFF",e.fill(),e.setGlobalAlpha(1),e.clip(),_(e,t),s.default.log("默认图片绘制完毕"),e.restore()}function F(e,t){s.default.log("进入绘制矩形图片方法, obj:"+JSON.stringify(t)),e.save();var i,a=t.dx,n=t.dy,r=t.dWidth,o=t.dHeight,l=t.roundRectSet;t.imageInfo;"object"===typeof l&&(i=l.r),i=i||.1*r,r<2*i&&(i=r/2),o<2*i&&(i=o/2),e.beginPath(),e.moveTo(a+i,n),e.arcTo(a+r,n,a+r,n+o,i),e.arcTo(a+r,n+o,a,n+o,i),e.arcTo(a,n+o,a,n,i),e.arcTo(a,n,a+r,n,i),e.closePath(),e.setGlobalAlpha(0),e.fillStyle="#FFFFFF",e.fill(),e.setGlobalAlpha(1),e.clip(),_(e,t),e.restore(),s.default.log("进入绘制矩形图片方法, 绘制完毕")}function D(e,t){s.default.log("进入绘制二维码方法"),s.default.showLoading("正在生成二维码");for(var i=[],a={text:String(t.text||"")||"",size:Number(t.size||0)||200,background:String(t.background||"")||"#ffffff",foreground:String(t.foreground||"")||"#000000",pdground:String(t.pdground||"")||"#000000",correctLevel:Number(t.correctLevel||0)||3,image:String(t.image||"")||"",imageSize:Number(t.imageSize||0)||40,dx:Number(t.dx||0)||0,dy:Number(t.dy||0)||0},n=null,r=0,o=0,u=i.length;o<u;o++)if(r=o,i[o].text==a.text&&i[o].text.correctLevel==a.correctLevel){n=i[o].obj;break}r==u&&(n=new l.default(a.text,a.correctLevel),i.push({text:a.text,correctLevel:a.correctLevel,obj:n}));for(var c=function(e){var t=e.options;return t.pdground&&(e.row>1&&e.row<5&&e.col>1&&e.col<5||e.row>e.count-6&&e.row<e.count-2&&e.col>1&&e.col<5||e.row>1&&e.row<5&&e.col>e.count-6&&e.col<e.count-2)?t.pdground:t.foreground},d=n.getModuleCount(),f=a.size,h=a.imageSize,g=(f/d).toPrecision(4),b=(f/d).toPrecision(4),m=0;m<d;m++)for(var p=0;p<d;p++){var v=Math.ceil((p+1)*g)-Math.floor(p*g),w=Math.ceil((m+1)*g)-Math.floor(m*g),y=c({row:m,col:p,count:d,options:a});e.setFillStyle(n.modules[m][p]?y:a.background),e.fillRect(a.dx+Math.round(p*g),a.dy+Math.round(m*b),v,w)}if(a.image){var x=function(e,t,i,n,r,o,s,l,u){e.setLineWidth(s),e.setFillStyle(a.background),e.setStrokeStyle(a.background),e.beginPath(),e.moveTo(t+o,i),e.arcTo(t+n,i,t+n,i+o,o),e.arcTo(t+n,i+r,t+n-o,i+r,o),e.arcTo(t,i+r,t,i+r-o,o),e.arcTo(t,i,t+o,i,o),e.closePath(),l&&e.fill(),u&&e.stroke()},k=a.dx+Number(((f-h)/2).toFixed(2)),I=a.dy+Number(((f-h)/2).toFixed(2));x(e,k,I,h,h,2,6,!0,!0),e.drawImage(a.image,k,I,h,h)}s.default.log("进入绘制二维码方法完毕"),s.default.hideLoading()}function O(e){e.backgroundImage,e.type;return new Promise(function(){var t=(0,o.default)(regeneratorRuntime.mark((function t(i,a){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,s.default.showLoading("正在获取海报背景图"),t.next=4,M(e);case 4:n=t.sent,s.default.hideLoading(),i(n),t.next=15;break;case 9:t.prev=9,t.t0=t["catch"](0),s.default.hideLoading(),s.default.showToast("获取分享用户背景图失败:"+JSON.stringify(t.t0)),s.default.log(JSON.stringify(t.t0)),a(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,i){return t.apply(this,arguments)}}())}function M(e,t){var i=e.backgroundImage;e.type;return s.default.log("获取分享背景图, 尝试清空本地数据"),new Promise(function(){var t=(0,o.default)(regeneratorRuntime.mark((function t(a,n){var o,l,u,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,s.default.showLoading("正在下载海报背景图"),s.default.log("没有从后端获取的背景图片路径, 尝试从后端获取背景图片路径"),!i){t.next=7;break}t.t0=i,t.next=10;break;case 7:return t.next=9,s.default.getPosterUrl(e);case 9:t.t0=t.sent;case 10:return o=t.t0,t.next=13,S(o);case 13:return o=t.sent,s.default.log("尝试下载并保存背景图:"+o),t.next=17,s.default.downLoadAndSaveFile_PromiseFc(o);case 17:if(l=t.sent,!l){t.next=31;break}return s.default.log("下载并保存背景图成功:"+l),t.next=22,s.default.getImageInfo_PromiseFc(l);case 22:u=t.sent,s.default.log("获取图片信息成功"),c={path:l,width:u.width,height:u.height,name:s.default.fileNameInPath(o)},s.default.log("拼接背景图信息对象成功:"+JSON.stringify(c)),s.default.hideLoading(),s.default.log("返回背景图信息对象"),a((0,r.default)({},c)),t.next=33;break;case 31:s.default.hideLoading(),n("not find savedFilePath");case 33:t.next=38;break;case 35:t.prev=35,t.t1=t["catch"](0),n(t.t1);case 38:case"end":return t.stop()}}),t,null,[[0,35]])})));return function(e,i){return t.apply(this,arguments)}}())}e.exports={getSharePoster:f,setText:w,setImage:I,drawText:P,drawImage:j,drawQrCode:D,drawFillRect:b,drawStrokeRect:m,drawRoundStrokeRect:p,drawRoundFillRect:v}}).call(this,i("5a52")["default"])},"6aca":function(e,t,i){"use strict";(function(e){var a=i("4ea4");i("7db0"),i("d3b7"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("96cf");var n=a(i("1da1")),r=i("b911"),o=a(i("65df")),s=a(i("6da0")),l=a(i("5679")),u=i("60e0"),c=a(i("b017")),d={data:function(){return{venue_list:[],show_:!0,lng1:121.515244,lat1:31.181736,title:"i场地预约",poster:{},qrShow:!1,canvasId:"default_PosterCanvasId"}},onLoad:function(e){this.datee=e.datee,this.venue_id=e.venue_id,this.productId=e.productId,this.venueName=e.venueName,this.siteId=e.siteId,this.currentDay=s.default.currentDay(1)},onBackPress:function(){if(this.shareObj.shareMenu.isVisible())return this.shareObj.shareMenu.hide(),this.shareObj.alphaBg.hide(),!0},mounted:function(){var e=this;this.show_=!0,this.$u.get(r.VUE_APP_URL+"/getDailyVenues?",{lng1:this.lng1,lat1:this.lat1,mobile:o.default.get("user.mobile")}).then((function(t){if(e.show_=!1,null!=t&&null!=t.data){for(var i=0;i<t.data.length;i++)t.data[i].distance=e.distance_show(t.data[i].distance),t.data[i].tamount=s.default.number_format(t.data[i].tamount,2);e.venue_list=t.data}}))},methods:{openinfo:function(e,t,i,a){uni.navigateTo({url:"../venue/venue?id="+e+"&productId="+t+"&venueName="+i+"&siteId="+a,success:function(e){},fail:function(){},complete:function(){}})},distance_show:function(e){return Math.round(e/1e3)>0?Math.round(e/1e3)+"公里":Math.round(e)+"米"},shareInfo:function(){var t=this,i={href:"https://www.yushangcc.com/appot.html",title:"i运动场地预约",desc:"i运动场地预约产品:提供在线预约，在线支付，自动抢位等专业预约服务.",imgUrl:"/static/logo.png"},a=[{icon:"/static/sharemenu/wx.png",text:"微信好友"},{icon:"/static/sharemenu/pyq.png",text:"朋友圈"},{icon:"/static/sharemenu/weibo.png",text:"微博"},{icon:"/static/sharemenu/qq.png",text:"QQ"},{icon:"/static/sharemenu/copy.png",text:"复制"},{icon:"/static/sharemenu/more.png",text:"更多"}];this.shareObj=(0,l.default)(i,a,(function(t){e.log("点击按钮的序号: "+t);var a={href:i.href||"",title:i.title||"",summary:i.desc||"",success:function(t){e.log("success:"+JSON.stringify(t))},fail:function(t){e.log("fail:"+JSON.stringify(t))}};switch(t){case 0:a.provider="weixin",a.scene="WXSceneSession",a.type=0,a.imageUrl=i.imgUrl||"",uni.share(a);break;case 1:a.provider="weixin",a.scene="WXSenceTimeline",a.type=0,a.imageUrl=i.imgUrl||"",uni.share(a);break;case 2:a.provider="sinaweibo",a.type=0,a.imageUrl=i.imgUrl||"",uni.share(a);break;case 3:a.provider="qq",a.type=1,a.imageUrl=i.imgUrl||"",uni.share(a);break;case 4:uni.setClipboardData({data:i.href,complete:function(){uni.showToast({title:"已复制到剪贴板"})}});break;case 5:plus.share.sendWithSystem({type:"web",title:i.title||"",thumbs:[i.imgUrl||""],href:i.href||"",content:i.desc||""});break}})),this.$nextTick((function(){t.shareObj.alphaBg.show(),t.shareObj.shareMenu.show()}))},shareFc:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,c.default.log("准备生成:"+new Date),i.next=4,(0,u.getSharePoster)({_this:t,type:"testShareType",formData:{},posterCanvasId:t.canvasId,delayTimeScale:20,drawArray:function(e){var t=e.bgObj,i=(e.type,e.bgScale,.3*t.width),a=.045*t.width,n=.04*t.height;return new Promise((function(e,r){e([{type:"custom",setDraw:function(e){e.setFillStyle("black"),e.setGlobalAlpha(.3),e.fillRect(0,t.height-.2*t.height,t.width,.2*t.height),e.setGlobalAlpha(1)}},{type:"image",url:"/static/fenxiang_.png",alpha:.3,dx:i,dy:t.height-.25*t.width,infoCallBack:function(e){var i=.2*t.width/e.height;return{circleSet:{x:e.width*i/2,y:.2*t.width/2,r:.2*t.width/2},dWidth:e.width*i,dHeight:.2*t.width}}},{type:"text",fontStyle:"italic",text:"i场地预约",size:a,color:"white",alpha:.5,textAlign:"left",textBaseline:"middle",infoCallBack:function(e){return c.default.log("index页面的text的infocallback ，textlength:"+e),{dx:t.width-e-a,dy:t.height-3*n}},serialNum:0,id:"tag1"},{type:"text",text:"i场地预约",fontWeight:"bold",size:a,color:"white",alpha:.75,textAlign:"left",textBaseline:"middle",serialNum:1,allInfoCallback:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.drawArray,i=t.find((function(e){return"tag1"===e.id}));return new Promise((function(e,t){setTimeout((function(){e({dx:i.dx,dy:i.dy+n})}),1)}))}},{type:"text",text:"i场地预约",size:a,color:"white",alpha:1,textAlign:"left",textBaseline:"middle",infoCallBack:function(e){return{dx:t.width-e-a,dy:t.height-n}}},{type:"qrcode",text:"你好，i场地预约",size:.2*t.width,dx:.05*t.width,dy:t.height-.25*t.width}])}))},setCanvasWH:function(e){var i=e.bgObj;e.type,e.bgScale;t.poster=i}});case 4:a=i.sent,c.default.log("海报生成成功, 时间:"+new Date+"， 临时路径: "+a.poster.tempFilePath),t.poster.finalPath=a.poster.tempFilePath,t.qrShow=!0,i.next=15;break;case 10:i.prev=10,i.t0=i["catch"](0),c.default.hideLoading(),c.default.showToast(JSON.stringify(i.t0)),e.log(JSON.stringify(i.t0));case 15:case"end":return i.stop()}}),i,null,[[0,10]])})))()},saveImage:function(){c.default.showToast("保存了")},share:function(){c.default.showToast("分享了")},hideQr:function(){this.qrShow=!1}}};t.default=d}).call(this,i("5a52")["default"])},b017:function(e,t,i){(function(t){i("c740"),i("d3b7"),i("ac1f"),i("25f0"),i("1276");var a=t.log,n={log:function(e){a(e)},showLoading:function(e,t){uni.showLoading({title:e,mask:t||!1})},hideLoading:function(){uni.hideLoading()},showToast:function(e,t){uni.showToast({title:e,icon:t||"none"})},getPosterUrl:function(e){var t=e.backgroundImage,i=e.type;e.formData;return new Promise((function(e,a){var n;if(t)n=t;else switch(i){case 1:n="/static/fenxiang_.png";break;default:n="/static/fenxiang_.png";break}n?e(n):a("背景图片路径不存在")}))},shareTypeListSheetArray:{array:[0,1,2,3,4,5]},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)},isPromise:function(e){return!!e&&("object"===typeof e||"function"===typeof e)&&"function"===typeof e.then},isNull:function(e){return null===e},isUndefined:function(e){return void 0===e},isUndef:function(e){return void 0===e},isNotNull_string:function(e){return null!==e&&void 0!==e&&""!==e},isFn:function(e){return e&&"function"===typeof e},getStorage:function(e,t,i){uni.getStorage({key:e,success:function(e){e.data&&""!=e.data?t&&t(e.data):i&&i()},fail:function(){i&&i()}})},setStorage:function(e,t){a("设置缓存"),a("key："+e),a("data："+JSON.stringify(t)),uni.setStorage({key:e,data:t})},setStorageSync:function(e,t){uni.setStorageSync(e,t)},getStorageSync:function(e){return uni.getStorageSync(e)},clearStorageSync:function(){uni.clearStorageSync()},removeStorageSync:function(e){uni.removeStorageSync(e)},getImageInfo:function(e,t,i){e=r(e),uni.getImageInfo({src:e,success:function(e){t&&"function"==typeof t&&t(e)},fail:function(e){i&&"function"==typeof i&&i(e)}})},downloadFile:function(e,t){e=r(e),uni.downloadFile({url:e,success:function(e){t&&"function"==typeof t&&t(e)}})},downloadFile_PromiseFc:function(e){return new Promise((function(t,i){"http"!==e.substring(0,4)?t(e):(e=r(e),a("url:"+e),uni.downloadFile({url:e,success:function(e){e&&e.tempFilePath?t(e.tempFilePath):i("not find tempFilePath")},fail:function(e){i(e)}}))}))},saveFile:function(e){uni.saveFile({tempFilePath:e,success:function(e){a("保存成功:"+JSON.stringify(e))}})},downLoadAndSaveFile_PromiseFc:function(e){return new Promise((function(t,i){a("准备下载并保存图片:"+e),"http"===e.substring(0,4)?(e=r(e),uni.downloadFile({url:e,success:function(e){a("下载背景图成功："+JSON.stringify(e)),e&&e.tempFilePath?t(e.tempFilePath):i("not find tempFilePath")},fail:function(e){i(e)}})):t(e)}))},checkFile_PromiseFc:function(e){return new Promise((function(t,i){uni.getSavedFileList({success:function(i){var a=i.fileList,n=a.findIndex((function(t){return t.filePath===e}));t(n)},fail:function(e){i(e)}})}))},removeSavedFile:function(e){uni.getSavedFileList({success:function(t){var i=t.fileList,a=i.findIndex((function(t){return t.filePath===e}));a>=0&&uni.removeSavedFile({filePath:e})}})},fileNameInPath:function(e){var t=e.split("/");return t[t.length-1]},getImageInfo_PromiseFc:function(e){return new Promise((function(t,i){a("准备获取图片信息:"+e),e=r(e),uni.getImageInfo({src:e,success:function(e){a("获取图片信息成功:"+JSON.stringify(e)),t(e)},fail:function(e){a("获取图片信息失败:"+JSON.stringify(e)),i(e)}})}))},previewImage:function(e){"string"==typeof e&&(e=[e]),uni.previewImage({urls:e})},actionSheet:function(e,t){for(var i=[],a=0;a<e.array.length;a++)switch(e.array[a]){case"sinaweibo":i[a]="新浪微博";break;case"qq":i[a]="QQ";break;case"weixin":i[a]="微信";break;case"WXSceneSession":i[a]="微信好友";break;case"WXSenceTimeline":i[a]="微信朋友圈";break;case"WXSceneFavorite":i[a]="微信收藏";break;case 0:i[a]="图文链接";break;case 1:i[a]="纯文字";break;case 2:i[a]="纯图片";break;case 3:i[a]="音乐";break;case 4:i[a]="视频";break;case 5:i[a]="小程序";break;default:break}this.showActionSheet(i,t)},showActionSheet:function(e,t){uni.showActionSheet({itemList:e,success:function(e){t&&"function"==typeof t&&t(e.tapIndex)}})},getProvider:function(e,t,i){var a=this;uni.getProvider({service:e,success:function(n){if(i){var r={};r.array=n.provider,a.actionSheet(r,(function(e){t&&"function"==typeof t&&t(n.provider[e])}))}else if("payment"==e){for(var o=n.provider,s=[],l=0;l<o.length;l++)"wxpay"==o[l]?s[l]={name:"微信支付",value:o[l],img:"/static/image/wei.png"}:"alipay"==o[l]&&(s[l]={name:"支付宝支付",value:o[l],img:"/static/image/ali.png"});t&&"function"==typeof t&&t(s)}else t&&"function"==typeof t&&t(n)}})}};function r(e){return e}e.exports=n}).call(this,i("5a52")["default"])},b2b4:function(e,t,i){"use strict";i.r(t);var a=i("6aca"),n=i.n(a);for(var r in a)"default"!==r&&function(e){i.d(t,e,(function(){return a[e]}))}(r);t["default"]=n.a},b60c:function(e,t,i){var a=i("2f07");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("227bee20",a,!0,{sourceMap:!1,shadowMode:!1})},b8fe:function(e,t,i){"use strict";i.r(t);var a=i("33b2"),n=i("dcf6");for(var r in n)"default"!==r&&function(e){i.d(t,e,(function(){return n[e]}))}(r);i("37e4");var o,s=i("f0c5"),l=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"1b741bef",null,!1,a["a"],o);t["default"]=l.exports},cb29:function(e,t,i){var a=i("23e7"),n=i("81d5"),r=i("44d2");a({target:"Array",proto:!0},{fill:n}),r("fill")},d8a8:function(e,t,i){"use strict";i("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={name:"u-loading",props:{mode:{type:String,default:"circle"},color:{type:String,default:"#c7c7c7"},size:{type:[String,Number],default:"34"},show:{type:Boolean,default:!0}},computed:{cricleStyle:function(){var e={};return e.width=this.size+"rpx",e.height=this.size+"rpx","circle"==this.mode&&(e.borderColor="#e4e4e4 #e4e4e4 #e4e4e4 ".concat(this.color?this.color:"#c7c7c7")),e}}};t.default=a},dcf6:function(e,t,i){"use strict";i.r(t);var a=i("d8a8"),n=i.n(a);for(var r in a)"default"!==r&&function(e){i.d(t,e,(function(){return a[e]}))}(r);t["default"]=n.a},ecb6:function(e,t,i){var a=i("4dba");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("1711ad82",a,!0,{sourceMap:!1,shadowMode:!1})}}]);